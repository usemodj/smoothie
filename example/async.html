<!DOCTYPE html>

<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

This file is part of //\ Tarp.

Copyright (C) 2013-2017 Torben Haase <https://pixelsvsnytes.com>

Tarp is free software: you can redistribute it and/or modify it under the
terms of the GNU Lesser General Public License as published by the Free
Software Foundation, either version 3 of the License, or (at your option) any
later version.

Tarp is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
A PARTICULAR PURPOSE.  See the GNU Lesser General Public License for more
details.You should have received a copy of the GNU Lesser General Public
License along with Tarp.  If not, see <http://www.gnu.org/licenses/>.

 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
 
 <html>

<head>
  <title>Tarp Require asynchronous test page</title>
  <script type="text/javascript" src="../require.js"></script>
</head>

<body>
  <h1>Tarp Require asynchronous test page</h1>
  <script>
    var require = Tarp.require;
    // Resolve a simple module
    require.resolve("module1", true).then(console.log, console.error);
    // Redirection (preloaded)
    require.resolve("fake1/", true).then(console.log, console.error);
    // Redirection (unloaded)
    require.resolve("fake2/", true).then(console.log, console.error);
    // Resolve a module that is already pending
    require.resolve("module2", true).then(console.log, console.error);
    // Execute a simple module
    require("module3", true).then((mod) => {
      console.log(mod.greet());
    }, console.error);
    // Execute a complex module with submodules
    require("relative/main", true).then((mod) => {
      console.log(mod.greet());
    }, console.error);
    // Load a package
    require('pkgtest/package.json', true).then(function(pkg) {
      console.log(JSON.stringify(pkg));
    });
    // Load the main module of a package
    require('pkgtest/', true).then(function(main) {
      console.log(main.greet());
    });
  </script>
</body>

</html>
